$ch.define("crypto",function(){"use strict";$$CHOP.crypto={},$$CHOP.crypto.md5=function(a){function b(a,b){return a<<b|a>>>32-b}function c(a,b){var c,d,e,f,g;return e=2147483648&a,f=2147483648&b,c=1073741824&a,d=1073741824&b,g=(1073741823&a)+(1073741823&b),c&d?2147483648^g^e^f:c|d?1073741824&g?3221225472^g^e^f:1073741824^g^e^f:g^e^f}function d(a,b,c){return a&b|~a&c}function e(a,b,c){return a&c|b&~c}function f(a,b,c){return a^b^c}function g(a,b,c){return b^(a|~c)}function h(a,e,f,g,h,i,j){return a=c(a,c(c(d(e,f,g),h),j)),c(b(a,i),e)}function i(a,d,f,g,h,i,j){return a=c(a,c(c(e(d,f,g),h),j)),c(b(a,i),d)}function j(a,d,e,g,h,i,j){return a=c(a,c(c(f(d,e,g),h),j)),c(b(a,i),d)}function k(a,d,e,f,h,i,j){return a=c(a,c(c(g(d,e,f),h),j)),c(b(a,i),d)}function l(a){for(var b,c=a.length,d=c+8,e=(d-d%64)/64,f=16*(e+1),g=Array(f-1),h=0,i=0;c>i;)b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|a.charCodeAt(i)<<h,i++;return b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|128<<h,g[f-2]=c<<3,g[f-1]=c>>>29,g}function m(a){var b,c,d="",e="";for(c=0;3>=c;c++)b=a>>>8*c&255,e="0"+b.toString(16),d+=e.substr(e.length-2,2);return d}function n(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b}if(0===arguments.length)throw new Error("crypto.md5 has to be given a string.");var o,p,q,r,s,t,u,v,w,x=Array(),y=7,z=12,A=17,B=22,C=5,D=9,E=14,F=20,G=4,H=11,I=16,J=23,K=6,L=10,M=15,N=21;for(a=n(a),x=l(a),t=1732584193,u=4023233417,v=2562383102,w=271733878,o=0;o<x.length;o+=16)p=t,q=u,r=v,s=w,t=h(t,u,v,w,x[o+0],y,3614090360),w=h(w,t,u,v,x[o+1],z,3905402710),v=h(v,w,t,u,x[o+2],A,606105819),u=h(u,v,w,t,x[o+3],B,3250441966),t=h(t,u,v,w,x[o+4],y,4118548399),w=h(w,t,u,v,x[o+5],z,1200080426),v=h(v,w,t,u,x[o+6],A,2821735955),u=h(u,v,w,t,x[o+7],B,4249261313),t=h(t,u,v,w,x[o+8],y,1770035416),w=h(w,t,u,v,x[o+9],z,2336552879),v=h(v,w,t,u,x[o+10],A,4294925233),u=h(u,v,w,t,x[o+11],B,2304563134),t=h(t,u,v,w,x[o+12],y,1804603682),w=h(w,t,u,v,x[o+13],z,4254626195),v=h(v,w,t,u,x[o+14],A,2792965006),u=h(u,v,w,t,x[o+15],B,1236535329),t=i(t,u,v,w,x[o+1],C,4129170786),w=i(w,t,u,v,x[o+6],D,3225465664),v=i(v,w,t,u,x[o+11],E,643717713),u=i(u,v,w,t,x[o+0],F,3921069994),t=i(t,u,v,w,x[o+5],C,3593408605),w=i(w,t,u,v,x[o+10],D,38016083),v=i(v,w,t,u,x[o+15],E,3634488961),u=i(u,v,w,t,x[o+4],F,3889429448),t=i(t,u,v,w,x[o+9],C,568446438),w=i(w,t,u,v,x[o+14],D,3275163606),v=i(v,w,t,u,x[o+3],E,4107603335),u=i(u,v,w,t,x[o+8],F,1163531501),t=i(t,u,v,w,x[o+13],C,2850285829),w=i(w,t,u,v,x[o+2],D,4243563512),v=i(v,w,t,u,x[o+7],E,1735328473),u=i(u,v,w,t,x[o+12],F,2368359562),t=j(t,u,v,w,x[o+5],G,4294588738),w=j(w,t,u,v,x[o+8],H,2272392833),v=j(v,w,t,u,x[o+11],I,1839030562),u=j(u,v,w,t,x[o+14],J,4259657740),t=j(t,u,v,w,x[o+1],G,2763975236),w=j(w,t,u,v,x[o+4],H,1272893353),v=j(v,w,t,u,x[o+7],I,4139469664),u=j(u,v,w,t,x[o+10],J,3200236656),t=j(t,u,v,w,x[o+13],G,681279174),w=j(w,t,u,v,x[o+0],H,3936430074),v=j(v,w,t,u,x[o+3],I,3572445317),u=j(u,v,w,t,x[o+6],J,76029189),t=j(t,u,v,w,x[o+9],G,3654602809),w=j(w,t,u,v,x[o+12],H,3873151461),v=j(v,w,t,u,x[o+15],I,530742520),u=j(u,v,w,t,x[o+2],J,3299628645),t=k(t,u,v,w,x[o+0],K,4096336452),w=k(w,t,u,v,x[o+7],L,1126891415),v=k(v,w,t,u,x[o+14],M,2878612391),u=k(u,v,w,t,x[o+5],N,4237533241),t=k(t,u,v,w,x[o+12],K,1700485571),w=k(w,t,u,v,x[o+3],L,2399980690),v=k(v,w,t,u,x[o+10],M,4293915773),u=k(u,v,w,t,x[o+1],N,2240044497),t=k(t,u,v,w,x[o+8],K,1873313359),w=k(w,t,u,v,x[o+15],L,4264355552),v=k(v,w,t,u,x[o+6],M,2734768916),u=k(u,v,w,t,x[o+13],N,1309151649),t=k(t,u,v,w,x[o+4],K,4149444226),w=k(w,t,u,v,x[o+11],L,3174756917),v=k(v,w,t,u,x[o+2],M,718787259),u=k(u,v,w,t,x[o+9],N,3951481745),t=c(t,p),u=c(u,q),v=c(v,r),w=c(w,s);var O=m(t)+m(u)+m(v)+m(w);return O.toLowerCase()},$$CHOP.crypto.sha1=function(a){function b(a,b){var c=a<<b|a>>>32-b;return c}function c(a){var b,c,d="";for(b=7;b>=0;b--)c=a>>>4*b&15,d+=c.toString(16);return d}function d(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b}if(0===arguments.length)throw new Error("crypto.sha1 has to be given a string.");var e,f,g,h,i,j,k,l,m,n=new Array(80),o=1732584193,p=4023233417,q=2562383102,r=271733878,s=3285377520;a=d(a);var t=a.length,u=new Array;for(f=0;t-3>f;f+=4)g=a.charCodeAt(f)<<24|a.charCodeAt(f+1)<<16|a.charCodeAt(f+2)<<8|a.charCodeAt(f+3),u.push(g);switch(t%4){case 0:f=2147483648;break;case 1:f=a.charCodeAt(t-1)<<24|8388608;break;case 2:f=a.charCodeAt(t-2)<<24|a.charCodeAt(t-1)<<16|32768;break;case 3:f=a.charCodeAt(t-3)<<24|a.charCodeAt(t-2)<<16|a.charCodeAt(t-1)<<8|128}for(u.push(f);u.length%16!=14;)u.push(0);for(u.push(t>>>29),u.push(t<<3&4294967295),e=0;e<u.length;e+=16){for(f=0;16>f;f++)n[f]=u[e+f];for(f=16;79>=f;f++)n[f]=b(n[f-3]^n[f-8]^n[f-14]^n[f-16],1);for(h=o,i=p,j=q,k=r,l=s,f=0;19>=f;f++)m=b(h,5)+(i&j|~i&k)+l+n[f]+1518500249&4294967295,l=k,k=j,j=b(i,30),i=h,h=m;for(f=20;39>=f;f++)m=b(h,5)+(i^j^k)+l+n[f]+1859775393&4294967295,l=k,k=j,j=b(i,30),i=h,h=m;for(f=40;59>=f;f++)m=b(h,5)+(i&j|i&k|j&k)+l+n[f]+2400959708&4294967295,l=k,k=j,j=b(i,30),i=h,h=m;for(f=60;79>=f;f++)m=b(h,5)+(i^j^k)+l+n[f]+3395469782&4294967295,l=k,k=j,j=b(i,30),i=h,h=m;o=o+h&4294967295,p=p+i&4294967295,q=q+j&4294967295,r=r+k&4294967295,s=s+l&4294967295}var m=c(o)+c(p)+c(q)+c(r)+c(s);return m.toLowerCase()}}),$ch.define("scope",function(){"use strict";function a(a,b){var c=!0;"string"==typeof a&&(c=!1,b=a,a=document);var d,e=a;d=c?[a]:e.querySelectorAll("[ch-scope="+b+"]");var f=$$CHOP.scope(b);void 0!==d&&null!==d&&d.forEach(function(a){var b=a;void 0===f._els?f._els=[a]:f._els.push(a),a=a.cloneNode(!0);var c=a.querySelectorAll("[ch-scope]");null!==c&&void 0!==c&&c.forEach(function(a){a.parentNode.removeChild(a)});var d=a.querySelectorAll("[ch-name]");null!==d&&void 0!==d&&d.forEach(function(a){var c=a.getAttribute("ch-name"),d=a.getAttribute("id");d&&c&&(f[c]=$$CHOP.element(b.querySelector("#"+d)))});var e=a.querySelectorAll("[ch-data]");null!==e&&void 0!==e&&e.forEach(function(a){var b=a.getAttribute("id");b&&(b=b.trim(),void 0===f._data_entities?f._data_entities=[b]:f._data_entities.push(b))});var g=f._eventHandler,h=a.querySelectorAll("[ch-event]")||[];h.forEach(function(a){var b=a.getAttribute("id"),c=a.getAttribute("ch-event")||"";c=c.split(";").map(function(a){return a.trim()}),c.forEach(function(a){var c=a.split(":").map(function(a){return a.trim()}),d=c[0],e=c[1].split(",").map(function(a){return a.trim()});document.querySelector("#"+b).addEventListener(d,function(a){e.forEach(function(b){g.emit(b,a)})},!1)})})})}function b(a){var b=$$CHOP.scope(a);if(b&&void 0!==b._els&&$$CHOP.isArray(b._els)!==!1){var d=b._data_entities;d.forEach(function(d){var e=!0,f=document.querySelector("#"+d),g=f.getAttribute("ch-data");if(null!==g&&""!==g)e=!1,c(a,g,f,!1);else{var h=f.innerHTML.match(/{{[^{]{1,}}}/g);if(null!==h)for(var i=0,j=h.length;i!==j;++i)g=h[i],g=g.split("|")[0],g=g.replace(/{{/g,""),g=g.replace(/}}/g,""),g=g.trim(),c(a,g,f,!0)}var k="keyup",l=f.getAttribute("type");null!==l&&(l=l.toUpperCase(),("RANGE"===l||"SELECT"===f.tagName.toUpperCase())&&(k="change"));var m=f.tagName.toUpperCase();if(("INPUT"===m||"TEXTAREA"===m||"SELECT"===m)&&f.addEventListener(k,function(b){b=b||window.event,g=g.trim();var c=b.target||b.srcElement,d=c.value,e=$$CHOP.scopes[a][g].get();d!==e&&$$CHOP.scopes[a][g].set(d)},!1),e){for(var n=f.innerHTML,o=f.innerHTML.match(/{{[^{]{1,}}}/g),i=0;i!==o.length;++i){var p=o[i].replace(/{/g,"");p=p.replace(/}/g,"");var q=p.split("|").map(function(a){return a.trim()});p=q[0].trim(),p=p.split(".")[0],p=b[p].get();for(var r=1,s=q.length;r!==s;++r){var t=q[r].trim();t=b[t]||function(a){return a},p=t.call(this,p)}n=n.replace(new RegExp(o[i],"g"),p)}f.innerHTML=n,$$CHOP._loadView(f)}})}}function c(a,b,c,e){var f=$$CHOP.scope(a);b=b.split(".")[0],void 0===f._data[b]&&(f._data[b]={_els:[],_val:void 0,_watch:function(){},watch:function(a){if("function"!=typeof a)throw new Error("ChopJS Scope data has to be watched by a function.");return this._watch=a,this},get:function(){return this._val},set:function(a){if(0===arguments.length)return!1;var b=this._val;this._val=a,this._watch.apply(this,[b,this._val]);var c=this;this._els.forEach(function(a){var b=a._isInline;if(b){var e=a._html,g=e.match(/{{[^{]{1,}}}/g)||[];g.forEach(function(a){var b,c;if(a=a.replace(/{/g,""),a=a.replace(/}/g,""),a=a.trim(),-1===a.indexOf(".")){b=a.split("|").map(function(a){return a.trim()});for(var g=f._data[b[0]].get(),h=1,i=b.length;h!==i;++h)c=b[h].trim(),c=f[c]||function(a){return a},g=c.call(this,g);e=d(e,a,g)}else{b=a.split("|").map(function(a){return a.trim()});for(var j=b[0].split("."),g=f._data[j[0]].get(),h=1,i=j.length;h!==i;++h)g=g[j[h]];for(h=1,i=b.length;h!==i;++h)c=b[h].trim(),c=f[c]||function(a){return a},g=c.call(this,g);e=d(e,a,g)}}),document.querySelector("#"+a._id).innerHTML=e}else $$CHOP.find("#"+a._id).val(c._val)})}}),b=b.split(".")[0];var g=c.getAttribute("id");f._data[b]._els.push({_isInline:e,_id:g,_html:c.innerHTML}),$$CHOP.scopes[a][b]=f._data[b]}function d(a,b,c){b=b.trim(),b=b.replace(/\|/g,"\\|");var d=new RegExp("{{[\\ ]*?"+b+"[\\ ]*?}}","g");return a.replace(d,c)}function e(a){this.scope=a}$$CHOP.scopes={},$$CHOP.scope=function(c,d){if("string"!=typeof c)throw new Error("$ch.scope requires at least a string-type name parameter.");if(void 0===d)return $$CHOP.scopes[c];$$CHOP.scopes[c]={_els:[],_data_entities:[],_data:{},_events:{}};var f=new e($$CHOP.scopes[c]);$$CHOP.scopes[c]._eventHandler=f,a(c),b(c);var g=document.querySelectorAll("[ch-scope="+c+"]")||[];return g.forEach(function(a){$$CHOP._addInlineTemplate(a),$$CHOP._loadView(a)}),d.apply(this,[$$CHOP.scopes[c],f]),$$CHOP},e.prototype={listen:function(a,b){if("string"!=typeof a||"function"!=typeof b)throw new Error('ChopJS Scope event "listen" requires a string-type name parameter and a callback function.');return this.scope._events[a]=b,this},emit:function(a){if("string"!=typeof a)throw new Error('ChopJS Scope event "emit" requires at least a string-type event name parameter.');var b=this.scope._events[a];if("function"==typeof b){for(var c=[],d=1;d!==arguments.length;++d)c.push(arguments[d]);b.apply(this,c)}return this}}}),$ch.define("store",function(){"use strict";$$CHOP.store={};var a={_cache:{}};$$CHOP.store={local:function(a,b){if("undefined"==typeof Storage)throw new Error("Local storage is not supported by browser.");if(0===arguments.length)throw new Error("$ch.store.local requires at least one parameter.");if(1===arguments.length){var c=localStorage.getItem(a);return null!==c&&(c=JSON.parse(c)),c}if(void 0===b)throw new Error("$ch.store.local does not allow undefined value.");localStorage.setItem(a,JSON.stringify(b))},session:function(a,b){if("undefined"==typeof Storage)throw new Error("Session storage is not supported by browser.");if(0===arguments.length)throw new Error("$ch.store.session requires at least one parameter.");if(1===arguments.length){var c=sessionStorage.getItem(a);return null!==c&&(c=JSON.parse(c)),c}if(void 0===b)throw new Error("$ch.store.session does not allow undefined value.");sessionStorage.setItem(a,JSON.stringify(b))},cookie:function(a,b,c){if(void 0===document.cookie)throw new Error("Cookie is not supported by this browser.");var d,e;if(0===arguments.length)return e=document.cookie,void 0===e||""===e?"":e;if(1===arguments.length&&(e=document.cookie,"object"==typeof a&&($$CHOP.each(a,function(a,b){d=new RegExp(a+"\\ *=[^;]{0,}","g"),e=e.replace(d,""),e=a+"="+encodeURIComponent(b)+";"+e}),document.cookie=e),"string"==typeof a)){if(e=document.cookie,void 0===e||""===e)return"";d=new RegExp(a+"\\ *=[^;]{0,}","g");var f=e.match(d);if(null!==f){var g=f[0];return d=new RegExp(a+"\\ *=\\ *","g"),g=g.trim().replace(d,"").trim(),decodeURIComponent(g)}return null}if(arguments.length>=2)if(e=document.cookie,void 0===e&&(e=""),d=new RegExp(a+"\\ *=[0-9A-Za-z\\.\\ \\-%]+;?","g"),e=e.replace(d,""),e=a+"="+encodeURIComponent(b)+";"+e,3===arguments.length){void 0!==c&&(c=parseFloat(c,10));var h=new Date;h.setTime(h.getTime()+24*c*60*60*1e3);var i="expires="+h.toGMTString();document.cookie=e+"; "+i}else document.cookie=e},cache:function(b,c){if(0===arguments.length)return a._cache;if(1===arguments.length){if("string"!=typeof b)throw new Error("$ch.store.cache requires a string-type parameter.");return a._cache[b]}if(2===arguments.length){if("string"!=typeof b)throw new Error('$ch.store.cache requires a string-type value for "key" parameter.');return a._cache[b]={},a._cache[b]=c,this}}}}),$ch.define("event",function(){"use strict";var a={},b={};$$CHOP.originalSourceFunction=$$CHOP.source;var c=function(a){var b=0;for(var c in a)a.hasOwnProperty(c)&&++b;return b},d=function(a){var b="change";if("TEXTAREA"===a.tagName.toUpperCase())b="keyup";else if("INPUT"===a.tagName.toUpperCase()){var c=a.getAttribute("type").toUpperCase(),d="TEXT"===c||"PASSWORD"===c;d&&(b="keyup")}return b};$$CHOP.event={},$$CHOP.event={watches:b,listen:function(b,c){if(0===arguments.length)throw new Error("$ch.event.listen requires at least one parameter.");if(1===arguments.length){var d;return d=void 0!==a[b]?a[b]._callback:void 0}return a[b]={},a[b]._event=b,a[b]._callback=c,this},emit:function(b,c){if(0===arguments.length)throw new Error("$ch.event.emit requires at least one parameter.");if($$CHOP._isArray(b)===!1){if(void 0===a[b])return void 0;a[b]._callback(c)}else for(var d=0,e=b.length;d!==e;++d)a[b[d]]._callback(c);return this},watch:function(a,c){if(2!==arguments.length)throw new Error("$ch.event.watch requires two parameters. i.e. data-source name, callback.");var e,f=$$CHOP.sources[a].data;e=$$CHOP._isArray(f)?f.slice(0):"object"==typeof f?Object.create(f):f,b[a]={source:a,old:e,callback:c};var g=function(){if($$CHOP.sources[a].data!==b[a].old){var d={},e=$$CHOP.sources[a].data;d.current=e,d.old=b[a].old,c(d),b[a].old=e}};b[a].watchChange=g;for(var h=0,i=$$CHOP.sources[a].els.length;h!==i;++h){var j=$$CHOP.sources[a].els[h],k=d(j);j.addEventListener(k,g)}return this},unwatch:function(a){if(1!==arguments.length)throw new Error("$ch.event.unwatch has to be given a data-source name parameter.");for(var c=0,e=$$CHOP.sources[a].els.length;c!==e;++c){var f=$$CHOP.sources[a].els[c],g=d(f);f.removeEventListener(g,b[a].watchChange)}return delete b[a],this},once:function(a,b){var c,d;return function(){return d?c:(c=a.apply(b||this,arguments),d=1,a=null,c)}},nextTick:function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),queue:function(){var a={callbacks:[],current:0,length:0,data:void 0,add:function(a){if(void 0!==a)if($$CHOP.isArray(a)){var b=this;$$CHOP.each(a,function(a){b.callbacks.push(a),++b.length})}else this.callbacks.push(a),++this.length;return this},remove:function(a){if(void 0!==a){var b;if($$CHOP.isArray(a)){var c=this;$$CHOP.each(a,function(a){b=c.callbacks.indexOf(a),-1!==b&&(c.callbacks.splice(b,1),--c.length)})}else b=this.callbacks.indexOf(a),-1!==b&&(this.callbacks.splice(b,1),--this.length)}return this},promote:function(a){if(void 0!==a){var b=this.callbacks.indexOf(a);if(-1!==b){var c=this.callbacks.splice(b,1)[0];this.callbacks.unshift(c)}}return this},reset:function(){return this.current=0,this},run:function(a){if(0!==arguments.length&&(this.data=a),this.current<this.length){var b=this.current;++this.current,this.data=this.callbacks[b](this.data)}return this.data},stop:function(){this.current=0;var a=this.data;return this.data=void 0,a}};return $$CHOP.each(arguments,function(b,c){a.add(c)}),a}};var e=function(a){var d=b[a];if(void 0===d)return void 0;var e=$$CHOP.sources[d.source].data,f=!1;if(typeof e!=typeof d.old)f=!0;else if($$CHOP._isArray(e)){if(e.length!==d.old.length)f=!0;else for(var g=0,h=e.length;g!==h;++g)if(e[g]!==d.old[g]){f=!0;break}}else"object"==typeof e&&f===!1?c(e)!==c(d.old)?f=!0:$$CHOP.each(e,function(a){e[a]!==d.old[a]&&(f=!0)}):e!==d.old&&f===!1&&(f=!0);f===!0&&(d.current=e,d.old=e,d.callback(d))},f=function(a,b){return 0===arguments.length?$$CHOP.originalSourceFunction():1===arguments.length?$$CHOP.originalSourceFunction(a):($$CHOP.originalSourceFunction(a,b),void e(a))};$$CHOP.source=f});